<!DOCTYPE html>
<html lang="german">

<head>
  <!-- Required meta tags always come first -->
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <title>Basic Stats 02: A mechanical approach to the Bayesian rule | HealthyNumerics
</title>
  <link rel="canonical" href="https://alpynepyano.github.io/healthyNumerics/posts/basic_stats_02_mechanical_approach_to_bayesian_rule.html">


  <link rel="apple-touch-icon" href="https://alpynepyano.github.io/healthyNumerics/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" type="image/png" href="https://alpynepyano.github.io/healthyNumerics/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="https://alpynepyano.github.io/healthyNumerics/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="https://alpynepyano.github.io/healthyNumerics/manifest.json">
  <meta name="theme-color" content="#333333">

  <link rel="stylesheet" href="https://alpynepyano.github.io/healthyNumerics/theme/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://alpynepyano.github.io/healthyNumerics/theme/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://alpynepyano.github.io/healthyNumerics/theme/css/pygments/default.min.css">
  <link rel="stylesheet" href="https://alpynepyano.github.io/healthyNumerics/theme/css/style.css">
 

<meta name="description" content="We use a simple contingency table to deduce Bayes rule">
<!-- base href="http://localhost:8000/output/images" / -->
<!-- base href="http://localhost:8000/" -->
<!--base href="/" / -->
</head>

<body>



       <!-- 
	   <div class="container-fluid"> <img class="img-fluid" src= "h01.jpg"> </div>
	   <div style="background-image: url(https://alpynepyano.github.io/healthyNumerics/siteImages/b04.jpg) </div>
	   <style> body { background: #ffffff url("http://localhost:8000/images/b04.jpg") no-repeat center top; } </style>	 
	   <body background="bgimage.jpg">	   
	   body { background-image: url("img_tree.gif"), url("img_flwr.gif");
              background-color: #cccccc;
              }
	   -->

	  

  <header class="header">
    <div class="container">
      <div class="row">
	  
        <style> body { background: #ffffff 
		               url(https://alpynepyano.github.io/healthyNumerics/siteImages/b04.jpg) no-repeat center top; }
		</style>
		<p class="text-hide"> .</p> <p class="text-hide"> .</p>
		<p class="text-hide"> .</p> <p class="text-hide"> .</p> <p class="text-hide"> .</p>
        <!--img  src="https://alpynepyano.github.io/healthyNumerics/siteImages/b04.jpg"-->		
  
		
        <div class="col-sm-4">
          <a href="https://alpynepyano.github.io/healthyNumerics">
            <img class="img-fluid" src=https://alpynepyano.github.io/healthyNumerics/siteImages/profile.png alt="HealthyNumerics">
          </a>
        </div>
        <div class="col-sm-8">
		
      
		  <h1 class="title"   > <a style=" color:white" href="https://alpynepyano.github.io/healthyNumerics">HealthyNumerics</a> </h1>
		  
		  
		  <p style="color:white; font-size:16pt;"  > HealthPoliticsEconomics  |  Quant Analytics  |  Numerics </p>

		  
          <ul class="list-inline">
            <li class="list-inline-item"><a style="color:#ccccff;" href="http://derProjektor.ch/" target="_blank">der Projektor</a></li>
			<li class="list-inline-item text-muted">|</li>
            <li class="list-inline-item"><a style="color:#ccccff;" href="http://Abdagon.com/" target="_blank">Health Systems</a></li>
			<li class="list-inline-item text-muted">|</li>
			
			

		
			
            <li class="list-inline-item"><a class="fa fa-linkedin" style=" color:white;"   href="https://ch.linkedin.com/in/peter-schuhmacher" target="_blank"></a></li>
            <li class="list-inline-item text-muted">|</li>

		
			
            <li class="list-inline-item"><a class="fa fa-twitter" style=" color:white;"   href="https://twitter.com/PeSchuh" target="_blank"></a></li>
            <li class="list-inline-item text-muted">|</li>
          </ul>
        </div>
		
		
		
		
        <div class="col-sm-8">
		<ul class="list-inline">
		  <li class="list-inline-item"><a style="color:white" href="https://alpynepyano.github.io/healthyNumerics/categories.html">Categories</a></li>
		  <li class="list-inline-item text-muted">|</li>
			<li class="list-inline-item"><a style="color:white" href="https://alpynepyano.github.io/healthyNumerics/tags.html">Tags</a></li>
			<li class="list-inline-item text-muted">|</li>
          <li class="list-inline-item"><a style="color:white" href="https://alpynepyano.github.io/healthyNumerics/archives.html">Archives</a></li>
		  <li class="list-inline-item text-muted">|</li>
			<li class="list-inline-item"><a style="color:white" href="https://alpynepyano.github.io/healthyNumerics/authors.html">Authors</a></li>
          </ul>
        </div>
		
      </div>
    </div>
  </header>

  <div class="main">
    <div class="container">
      <h1>Basic Stats 02:  A mechanical approach  to the Bayesian rule
</h1>
      <hr>
<article class="article">
  <header>
    <ul class="list-inline">
      <li class="list-inline-item text-muted" title="2017-03-07T08:30:00+01:00">
        <i class="fa fa-clock-o"></i>
        Di. 07 MÃ¤rz 2017
      </li>
      <li class="list-inline-item">
        <i class="fa fa-folder-open-o"></i>
        <a href="https://alpynepyano.github.io/healthyNumerics/category/metaanalysis.html">MetaAnalysis</a>
      </li>
      <li class="list-inline-item">
        <i class="fa fa-user-o"></i>
        <a href="https://alpynepyano.github.io/healthyNumerics/author/peter-schuhmacher.html">Peter Schuhmacher</a>      </li>
      <li class="list-inline-item">
        <i class="fa fa-files-o"></i>
        <a href="https://alpynepyano.github.io/healthyNumerics/tag/statistics.html">#Statistics</a>,         <a href="https://alpynepyano.github.io/healthyNumerics/tag/bayes.html">#Bayes</a>      </li>
    </ul>
  </header>
  <div class="content">
    <h2>Intro</h2>
<p>The Bayesian rule</p>
<div class="math">$$
P(A \mid B)    =  \frac{P(B \mid A) \cdot P(A)}{P(B)}
$$</div>
<p>seems to be a rather abstract formula. But this impression can be corrected easely when considering a simple practical application. We call this approach <em>mechanical</em> because for this type of application there is no philosphical dispute between  frequentist's and bayesian's mind set. We will just use in a mechanical/algorithmical manner the cells of a matrix. In this section we </p>
<ul>
<li>formulate a prototype of a probability problem (with red and green balls that have letters A and B printed on)</li>
<li>summarize the problem in a basically 2x2 matrix (called contingency table)</li>
<li>use the frequencies first</li>
<li>replace them by probalities afterwards and recognize what conditional probablities are</li>
<li>recognize that applying the Bayesian formula is nothing else than walking from one side of the matrix to the other side</li>
</ul>
<div class="math">$$ $$</div>
<h3>A prototype of a probability problem</h3>
<p><strong>Given:</strong></p>
<ul>
<li>19 balls</li>
<li>14 balls are red, 5 balls are green</li>
<li>among the 14 red balls, 4 have a A printed on, 10 have a B printed on</li>
<li>among the 5 green balls, 1 has a A printed on, 4 have a B printed on</li>
</ul>
<p><strong>Typical questions:</strong>
- we take 1 ball. 
    - What is the probabilitiy that it is green ?
    - What is the probabilitiy that it is B under the precondition it's green ?</p>
<p>We will use Pandas to represent the problem and the solutions</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">IPython.core.pylabtools</span> <span class="kn">import</span> <span class="n">figsize</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">'precision'</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
<div class="math">$$ $$</div>
<h2>Contingency table with the frequencies</h2>
<p>The core of the representation is a 2x2 matrix that summarizes the situation of the balls with the colors and the letters on. This matrix is expanded with the margins that contain the sums.
- <code>sum L</code> stands for the sum of the letters
- <code>sum C</code> stands for the sum of the colors</p>
<div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>
<span class="n">index</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">])</span>
<span class="n">data</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'sumC'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># append the sums of the rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">'sumL'</span><span class="p">]</span><span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>     <span class="c1"># append the sums of the columns</span>
<span class="n">df</span>
</pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="table table-hover table-striped dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>A</th>
<th>B</th>
<th>sumC</th>
</tr>
</thead>
<tbody>
<tr>
<th>red</th>
<td>4</td>
<td>10</td>
<td>14</td>
</tr>
<tr>
<th>green</th>
<td>1</td>
<td>4</td>
<td>5</td>
</tr>
<tr>
<th>sumL</th>
<td>5</td>
<td>14</td>
<td>19</td>
</tr>
</tbody>
</table>
</div>
<h4>Append the relative contributions of B and of green</h4>
<p>We expand the matrix by a further column and a further row and use them to compute relative frequencies (see below).</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">highlight_cells</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,:]</span> <span class="o">=</span> <span class="s1">''</span> 
    <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'background-color: #53ff1a'</span>
    <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'background-color: lightgreen'</span>
    <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'background-color: lightblue'</span>
    <span class="k">return</span> <span class="n">df</span>

<span class="n">df</span><span class="p">[</span><span class="sa">r</span><span class="s1">'B/sumC'</span><span class="p">]</span>         <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="sa">r</span><span class="s1">'green/sumL'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">highlight_cells</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">t</span>
</pre></div>
<style type="text/css">
    #T_7d72f092_9859_11e7_8199_3c970eb169acrow1_col1 {
            background-color:  #53ff1a;
        }    #T_7d72f092_9859_11e7_8199_3c970eb169acrow1_col3 {
            background-color:  lightgreen;
        }    #T_7d72f092_9859_11e7_8199_3c970eb169acrow3_col1 {
            background-color:  lightblue;
        }</style>
<p><table class="table table-hover table-striped" id="T_7d72f092_9859_11e7_8199_3c970eb169ac">
<thead> <tr>
<th class="blank level0"></th>
<th class="col_heading level0 col0">A</th>
<th class="col_heading level0 col1">B</th>
<th class="col_heading level0 col2">sumC</th>
<th class="col_heading level0 col3">B/sumC</th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_7d72f092_9859_11e7_8199_3c970eb169ac">red</th>
<td class="data row0 col0" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow0_col0">4</td>
<td class="data row0 col1" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow0_col1">10</td>
<td class="data row0 col2" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow0_col2">14</td>
<td class="data row0 col3" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow0_col3">0.714</td>
</tr> <tr>
<th class="row_heading level0 row1" id="T_7d72f092_9859_11e7_8199_3c970eb169ac">green</th>
<td class="data row1 col0" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow1_col0">1</td>
<td class="data row1 col1" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow1_col1">4</td>
<td class="data row1 col2" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow1_col2">5</td>
<td class="data row1 col3" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow1_col3">0.8</td>
</tr> <tr>
<th class="row_heading level0 row2" id="T_7d72f092_9859_11e7_8199_3c970eb169ac">sumL</th>
<td class="data row2 col0" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow2_col0">5</td>
<td class="data row2 col1" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow2_col1">14</td>
<td class="data row2 col2" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow2_col2">19</td>
<td class="data row2 col3" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow2_col3">0.737</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_7d72f092_9859_11e7_8199_3c970eb169ac">green/sumL</th>
<td class="data row3 col0" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow3_col0">0.2</td>
<td class="data row3 col1" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow3_col1">0.286</td>
<td class="data row3 col2" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow3_col2">0.263</td>
<td class="data row3 col3" id="T_7d72f092_9859_11e7_8199_3c970eb169acrow3_col3">1.09</td>
</tr></tbody>
</table> </p>
<h4>Let's focus on the row with the green balls</h4>
<p>From all green balls (= 5) is the portion of those with a letter B (=4) 0.8</p>
<div class="math">$$
\frac{green\: balls\: with \:B}{all\: green\: balls} = \frac{4}{5} = 0.8
$$</div>
<p>Note that this value already corresponds to the conditional probality <span class="math">\(P(B \mid green)\)</span>
</p>
<div class="math">$$ $$</div>
<h4>Let's focus on the column with the balls with letter B</h4>
<p>From all balls with letter B (= 14) is the portion of those that are green (=4) 0.286</p>
<div class="math">$$
\frac{green\; balls\; with\; B}{all\; balls\; with\; letter\; B} = \frac{4}{14} = 0.286
$$</div>
<p>Note that also this value already corresponds to the conditional probality <span class="math">\(P(green \mid B)\)</span>
</p>
<div class="math">$$ $$</div>
<div class="math">$$ $$</div>
<h2>Contingency table with the probabilities</h2>
<p>We find the probabilities by dividing the frequencies by the sum of balls.</p>
<div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">])</span>
<span class="n">index</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">])</span>
<span class="n">data</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="n">data</span>    <span class="o">=</span> <span class="n">data</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">'sumC'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># append the sums of the rows</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">'sumL'</span><span class="p">]</span><span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>     <span class="c1"># append the sums of the columns</span>
<span class="n">df</span>
</pre></div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="table table-hover table-striped dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th>A</th>
<th>B</th>
<th>sumC</th>
</tr>
</thead>
<tbody>
<tr>
<th>red</th>
<td>0.211</td>
<td>0.526</td>
<td>0.737</td>
</tr>
<tr>
<th>green</th>
<td>0.053</td>
<td>0.211</td>
<td>0.263</td>
</tr>
<tr>
<th>sumL</th>
<td>0.263</td>
<td>0.737</td>
<td>1.000</td>
</tr>
</tbody>
</table>
</div>
<div class="math">$$ $$</div>
<h4>Append the relative contributions of B and of green</h4>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="sa">r</span><span class="s1">'B/sumC'</span><span class="p">]</span>         <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="sa">r</span><span class="s1">'green/sumL'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">,:]</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">2</span><span class="p">,:]</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">highlight_cells</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">t</span>
</pre></div>
<style type="text/css">
    #T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow1_col1 {
            background-color:  #53ff1a;
        }    #T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow1_col3 {
            background-color:  lightgreen;
        }    #T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow3_col1 {
            background-color:  lightblue;
        }</style>
<p><table class="table table-hover table-striped" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169ac">
<thead> <tr>
<th class="blank level0"></th>
<th class="col_heading level0 col0">A</th>
<th class="col_heading level0 col1">B</th>
<th class="col_heading level0 col2">sumC</th>
<th class="col_heading level0 col3">B/sumC</th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169ac">red</th>
<td class="data row0 col0" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow0_col0">0.211</td>
<td class="data row0 col1" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow0_col1">0.526</td>
<td class="data row0 col2" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow0_col2">0.737</td>
<td class="data row0 col3" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow0_col3">0.714</td>
</tr> <tr>
<th class="row_heading level0 row1" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169ac">green</th>
<td class="data row1 col0" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow1_col0">0.0526</td>
<td class="data row1 col1" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow1_col1">0.211</td>
<td class="data row1 col2" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow1_col2">0.263</td>
<td class="data row1 col3" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow1_col3">0.8</td>
</tr> <tr>
<th class="row_heading level0 row2" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169ac">sumL</th>
<td class="data row2 col0" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow2_col0">0.263</td>
<td class="data row2 col1" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow2_col1">0.737</td>
<td class="data row2 col2" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow2_col2">1</td>
<td class="data row2 col3" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow2_col3">0.737</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169ac">green/sumL</th>
<td class="data row3 col0" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow3_col0">0.2</td>
<td class="data row3 col1" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow3_col1">0.286</td>
<td class="data row3 col2" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow3_col2">0.263</td>
<td class="data row3 col3" id="T_f4c34ed8_985e_11e7_92e6_3c970eb169acrow3_col3">1.09</td>
</tr></tbody>
</table> </p>
<div class="math">$$ $$</div>
<h4>Note the formula in the cells</h4>
<div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'-----------A----------'</span><span class="p">,</span> <span class="s1">'---------B----------'</span><span class="p">,</span> <span class="s1">'----------sumC--------'</span><span class="p">,</span>  <span class="s1">'--------B/sumC--------'</span><span class="p">])</span>
<span class="n">index</span>   <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="s1">'red'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">,</span> <span class="s1">'sumL'</span><span class="p">,</span>  <span class="s1">'green/sumL'</span><span class="p">])</span>
<span class="n">data</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">],</span>
                    <span class="p">[</span><span class="s1">'...'</span><span class="p">,</span> <span class="s1">'$P(B \cap green)$'</span><span class="p">,</span> <span class="s1">'$P(green)$'</span><span class="p">,</span> <span class="s1">'$P(B \mid green)$'</span><span class="p">],</span>
                    <span class="p">[</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'$P(B)$'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">],</span>
                    <span class="p">[</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'$P(green \mid B)$'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">,</span><span class="s1">'...'</span><span class="p">]</span> <span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">highlight_cells</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">t</span>
</pre></div>
<style type="text/css">
    #T_1b78b1ba_985f_11e7_9258_3c970eb169acrow1_col1 {
            background-color:  #53ff1a;
        }    #T_1b78b1ba_985f_11e7_9258_3c970eb169acrow1_col3 {
            background-color:  lightgreen;
        }    #T_1b78b1ba_985f_11e7_9258_3c970eb169acrow3_col1 {
            background-color:  lightblue;
        }</style>
<p><table class="table table-hover table-striped" id="T_1b78b1ba_985f_11e7_9258_3c970eb169ac">
<thead> <tr>
<th class="blank level0"></th>
<th class="col_heading level0 col0">-----------A----------</th>
<th class="col_heading level0 col1">---------B----------</th>
<th class="col_heading level0 col2">----------sumC--------</th>
<th class="col_heading level0 col3">--------B/sumC--------</th>
</tr></thead>
<tbody> <tr>
<th class="row_heading level0 row0" id="T_1b78b1ba_985f_11e7_9258_3c970eb169ac">red</th>
<td class="data row0 col0" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow0_col0">...</td>
<td class="data row0 col1" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow0_col1">...</td>
<td class="data row0 col2" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow0_col2">...</td>
<td class="data row0 col3" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow0_col3">...</td>
</tr> <tr>
<th class="row_heading level0 row1" id="T_1b78b1ba_985f_11e7_9258_3c970eb169ac">green</th>
<td class="data row1 col0" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow1_col0">...</td>
<td class="data row1 col1" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow1_col1"><span class="math">\(P(B \cap green)\)</span></td>
<td class="data row1 col2" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow1_col2"><span class="math">\(P(green)\)</span></td>
<td class="data row1 col3" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow1_col3"><span class="math">\(P(B \mid green)\)</span></td>
</tr> <tr>
<th class="row_heading level0 row2" id="T_1b78b1ba_985f_11e7_9258_3c970eb169ac">sumL</th>
<td class="data row2 col0" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow2_col0">...</td>
<td class="data row2 col1" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow2_col1"><span class="math">\(P(B)\)</span></td>
<td class="data row2 col2" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow2_col2">...</td>
<td class="data row2 col3" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow2_col3">...</td>
</tr> <tr>
<th class="row_heading level0 row3" id="T_1b78b1ba_985f_11e7_9258_3c970eb169ac">green/sumL</th>
<td class="data row3 col0" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow3_col0">...</td>
<td class="data row3 col1" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow3_col1"><span class="math">\(P(green \mid B)\)</span></td>
<td class="data row3 col2" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow3_col2">...</td>
<td class="data row3 col3" id="T_1b78b1ba_985f_11e7_9258_3c970eb169acrow3_col3">...</td>
</tr></tbody>
</table> </p>
<div class="math">$$ $$</div>
<h4>Conditional probability:  Let's focus on the row with the green balls</h4>
<p>The probability to get a ball with B out of all green balls is  0.8</p>
<div class="math">$$
P(B \mid green) = \frac{P(green\: balls\: with \:B)}{P(all\: green\: balls)}  = \frac{P(green \cap B)}{P(green)} = \frac{0.211}{0.263} = 0.8
$$</div>
<div class="math">$$ $$</div>
<h4>Conditional probability: Let's focus on the column with the balls with letter B</h4>
<p>The probability to get a green ball out of all balls with a B is  0.286</p>
<div class="math">$$
P(green \mid B) = \frac{P(green\; balls\; with\; B)}{P(all\; balls\; with\; letter\; B)} = \frac{P(green \cap B)}{P(B)} = \frac{0.211}{0.737} = 0.286
$$</div>
<div class="math">$$ $$</div>
<h1>Bayes rule</h1>
<p>Given <span class="math">\(P(green \mid B\)</span>)  find <span class="math">\(P(B \mid green)\)</span> :</p>
<div class="math">$$
P(B \mid green) = \frac{P(green \mid B) \cdot P(B)}{P(green)} = \frac{0.286 \cdot 0.737}{0.263}  = \frac{0.211}{0.263}= 0.8
$$</div>
<div class="math">$$ $$</div>
<p>and given <span class="math">\(P(B \mid green)\)</span> find <span class="math">\(P(green \mid B\)</span>):
</p>
<div class="math">$$
P(green \mid B) = \frac{P(B \mid green) \cdot P(green)}{P(B)} = \frac{0.8 \cdot 0.263}{0.737} = \frac{0.211}{0.737} = 0.286
$$</div>
<p><strong>Applying the Bayes rule means that we walk from the element most right in the matrix to the element at the bottom of the matrix and vice versa:</strong></p>
<div class="highlight"><pre><span></span><span class="n">show_frequencies</span><span class="p">()</span>
</pre></div>
<p><img alt="png" class="img-fluid" src="https://alpynepyano.github.io/healthyNumerics/posts/img2002/output_16_0.png"/></p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_frequencies</span><span class="p">():</span>
    <span class="n">px</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">py</span> <span class="o">=</span> <span class="mi">4</span>


    <span class="n">figsize</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">fontSize1</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="n">fontSize2</span> <span class="o">=</span> <span class="mi">12</span>
    <span class="n">fontSize3</span> <span class="o">=</span> <span class="mi">20</span>

    <span class="n">A1</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>     <span class="n">A2</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>       <span class="n">A3</span> <span class="o">=</span> <span class="n">A1</span><span class="o">+</span><span class="n">A2</span>
    <span class="n">B1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>     <span class="n">B2</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">;</span>       <span class="n">B3</span> <span class="o">=</span> <span class="n">B1</span><span class="o">+</span><span class="n">B2</span>
    <span class="n">C1</span> <span class="o">=</span> <span class="n">A1</span><span class="o">+</span><span class="n">B1</span><span class="p">;</span> <span class="n">C2</span> <span class="o">=</span> <span class="n">A2</span><span class="o">+</span><span class="n">B2</span><span class="p">;</span>   <span class="n">C3</span> <span class="o">=</span> <span class="n">A3</span><span class="o">+</span><span class="n">B3</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="n">A1</span><span class="p">,</span> <span class="n">A2</span><span class="p">,</span> <span class="n">A3</span><span class="p">],</span>
                     <span class="p">[</span><span class="n">B1</span><span class="p">,</span> <span class="n">B2</span><span class="p">,</span> <span class="n">B3</span><span class="p">],</span>
                     <span class="p">[</span><span class="n">C1</span><span class="p">,</span> <span class="n">C2</span><span class="p">,</span> <span class="n">C3</span><span class="p">]</span> <span class="p">])</span>

    <span class="n">clr</span>     <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="s1">'#ffc2b3'</span><span class="p">,</span> <span class="s1">'#ff704d'</span><span class="p">,</span> <span class="s1">'#ff0000'</span><span class="p">],</span>
                         <span class="p">[</span><span class="s1">'#b3ff99'</span><span class="p">,</span> <span class="s1">'#53ff1a'</span><span class="p">,</span> <span class="s1">'#208000'</span><span class="p">],</span> 
                         <span class="p">[</span><span class="s1">'#00bfff'</span><span class="p">,</span> <span class="s1">'#0000ff'</span><span class="p">,</span> <span class="s1">'#bf00ff'</span><span class="p">]</span>   <span class="p">])</span>


    <span class="n">title</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="s1">'A and red'</span><span class="p">,</span> <span class="s1">'B and red'</span><span class="p">,</span> <span class="s1">'sum of reds'</span><span class="p">,</span>
                       <span class="s1">'$P(B|red) = </span><span class="se">\\</span><span class="s1">frac {P(A</span><span class="se">\\</span><span class="s1">cap red)}{P(red)}$'</span>           <span class="p">],</span>
                       <span class="p">[</span><span class="s1">'A and green'</span><span class="p">,</span> <span class="s1">'B and green'</span><span class="p">,</span> <span class="s1">'sum greens'</span><span class="p">,</span>   <span class="s1">'% (B of greens)'</span>     <span class="p">],</span>
                       <span class="p">[</span><span class="s1">'sum of A'</span><span class="p">,</span> <span class="s1">'sum of B'</span><span class="p">,</span> <span class="s1">'sum of all balls'</span><span class="p">,</span><span class="s1">' '</span>        <span class="p">],</span>
                       <span class="p">[</span><span class="s1">' '</span><span class="p">,</span> <span class="s1">'% (greens of B)'</span><span class="p">,</span> <span class="s1">''</span><span class="p">,</span>  <span class="s1">' '</span>     <span class="p">],</span>                  
                  <span class="p">]</span>  <span class="p">)</span>

    <span class="n">xlabel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'A+B'</span><span class="p">,</span> <span class="s1">'B/(A+B)'</span><span class="p">],</span>
                        <span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'A+B'</span><span class="p">,</span> <span class="s1">'B/(A+B)'</span><span class="p">],</span>
                        <span class="p">[</span><span class="s1">'A red + A green'</span><span class="p">,</span> <span class="s1">'B red + B green'</span><span class="p">,</span> <span class="s1">'A+B'</span><span class="p">,</span> <span class="s1">'B/(A+B)'</span><span class="p">],</span>
                        <span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B green/(B red + B green)'</span><span class="p">,</span> <span class="s1">'A+B'</span><span class="p">,</span> <span class="s1">'B/(A+B)'</span><span class="p">]</span>       <span class="p">]</span>  <span class="p">)</span>

    <span class="n">ylabel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="p">[</span><span class="s1">'red'</span><span class="p">,</span>   <span class="s1">'red'</span><span class="p">,</span>   <span class="s1">'red'</span><span class="p">,</span>  <span class="s1">'B of reds'</span><span class="p">],</span>
                        <span class="p">[</span><span class="s1">'green'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">,</span><span class="s1">'B of greens'</span><span class="p">],</span>
                        <span class="p">[</span><span class="s1">'sum A'</span><span class="p">,</span> <span class="s1">'sum B'</span><span class="p">,</span> <span class="s1">'Total'</span><span class="p">,</span> <span class="s1">''</span> <span class="p">],</span>
                        <span class="p">[</span><span class="s1">'green'</span><span class="p">,</span> <span class="s1">'greens of B'</span><span class="p">,</span> <span class="s1">'green'</span><span class="p">,</span> <span class="s1">' '</span><span class="p">],</span>    <span class="p">])</span>



    <span class="n">f</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">px</span><span class="p">,</span> <span class="n">py</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'none'</span><span class="p">)</span>  <span class="c1">#, facecolor='lightgrey'</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">px</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">py</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>

            <span class="n">patches</span><span class="p">,</span> <span class="n">texts</span> <span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">pie</span><span class="p">([</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]],</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">])],</span> <span class="c1">#autopct='%1.1f%%',</span>
                            <span class="n">shadow</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">labeldistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
                            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">clr</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]])</span>
            <span class="n">texts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="n">fontSize3</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.2</span><span class="p">),</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'#f2f2f2'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'none'</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span> <span class="n">fontSize1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">*</span><span class="n">j</span><span class="o">==</span><span class="mi">1</span> <span class="p">:</span>
                <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.2</span><span class="p">),</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'#bfbfbf'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'none'</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize1</span><span class="p">)</span>

            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">)</span>    
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">'top'</span><span class="p">)</span> 

            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">)</span>

            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">'equal'</span><span class="p">)</span>

        <span class="n">j</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span> <span class="n">o</span> <span class="o">=</span> <span class="n">p</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span>
            <span class="n">patches</span><span class="p">,</span> <span class="n">texts</span> <span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">pie</span><span class="p">([</span><span class="n">o</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="c1">#autopct='%1.1f%%',</span>
                            <span class="n">shadow</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">labeldistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> 
                            <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">clr</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">clr</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="p">]</span> <span class="p">)</span>
            <span class="n">texts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="n">fontSize3</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.2</span><span class="p">),</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'#bfbfbf'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'none'</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize1</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize2</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">'top'</span><span class="p">)</span> 
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">'equal'</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">i</span> <span class="o">=</span> <span class="n">px</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> 
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">py</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">j</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">];</span> <span class="n">o</span> <span class="o">=</span> <span class="n">p</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span>
            <span class="n">patches</span><span class="p">,</span> <span class="n">texts</span> <span class="o">=</span><span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">pie</span><span class="p">([</span><span class="n">o</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="c1">#autopct='%1.1f%%',</span>
                        <span class="n">shadow</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">labeldistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> 
                        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">clr</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">clr</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="p">])</span>
            <span class="n">texts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="n">fontSize3</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">1.2</span><span class="p">),</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'#bfbfbf'</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">'none'</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize1</span><span class="p">)</span>

            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize2</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_label_position</span><span class="p">(</span><span class="s1">'top'</span><span class="p">)</span> 
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="n">fontSize2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">'c'</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">'equal'</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">'y'</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
            <span class="n">ax</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">set_frame_on</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>    

    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>

<span class="c1"># HTML('''&lt;script&gt; $('div .input').hide()''') #lÃ¤sst die input-zellen verschwinden</span>

<span class="n">HTML</span><span class="p">(</span><span class="s1">'''&lt;script&gt;</span>
<span class="s1">code_show=true; </span>
<span class="s1">function code_toggle() {</span>
<span class="s1"> if (code_show){</span>
<span class="s1"> $('div.input').hide();</span>
<span class="s1"> } else {</span>
<span class="s1"> $('div.input').show();</span>
<span class="s1"> }</span>
<span class="s1"> code_show = !code_show</span>
<span class="s1">} </span>
<span class="s1">$( document ).ready(code_toggle);</span>
<span class="s1">&lt;/script&gt;</span>
<span class="s1">&lt;form action="javascript:code_toggle()"&gt;&lt;input type="submit" value="Click here to toggle on/off the raw code."&gt;&lt;/form&gt;'''</span><span class="p">)</span>
</pre></div>
<script>
code_show=true; 
function code_toggle() {
 if (code_show){
 $('div.input').hide();
 } else {
 $('div.input').show();
 }
 code_show = !code_show
} 
$( document ).ready(code_toggle);
</script>
<form action="javascript:code_toggle()"><input type="submit" value="Click here to toggle on/off the raw code."/></form>
<div class="highlight"><pre><span></span>
</pre></div>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
</article>
<hr>
<div id="disqus_thread"></div>
<script>
  var disqus_config = function() {
    this.page.url = 'https://alpynepyano.github.io/healthyNumerics/posts/basic_stats_02_mechanical_approach_to_bayesian_rule.html';
    this.page.identifier = 'basic_stats_02_mechanical_approach_to_bayesian_rule';
  };
  (function() {
    var d = document;
    var s = d.createElement('script');
    s.src = '//healthynumerics.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript class="text-muted">
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
       <ul class="col-sm-6 list-inline">
	      <li class="list-inline-item"><a href="https://alpynepyano.github.io/healthyNumerics/categories.html">Categories</a></li>
			<li class="list-inline-item"><a href="https://alpynepyano.github.io/healthyNumerics/tags.html">Tags</a></li>
          <li class="list-inline-item"><a href="https://alpynepyano.github.io/healthyNumerics/archives.html">Archives</a></li>
			<li class="list-inline-item"><a href="https://alpynepyano.github.io/healthyNumerics/authors.html">Authors</a></li>
        </ul>	
        <p style="color:#C0C0C0;"> 
		    Generated by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a> 
		    based on the <a href="https://github.com/nairobilug/pelican-alchemy" target="_blank">alchemy &#x2728;</a> theme
           </p>
      </div>
    </div>
  </footer>
</body>

</html>